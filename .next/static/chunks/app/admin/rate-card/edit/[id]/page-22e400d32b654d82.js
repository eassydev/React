(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2294],{6303:function(e,a,s){Promise.resolve().then(s.bind(s,39823))},99376:function(e,a,s){"use strict";var t=s(35475);s.o(t,"useParams")&&s.d(a,{useParams:function(){return t.useParams}}),s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}})},39823:function(e,a,s){"use strict";s.r(a);var t=s(57437),l=s(2265),i=s(30166),r=s(99376),n=s(79820),c=s(40279),d=s(12381),x=s(15291),o=s(94589),u=s(75277),m=s(76357),h=s(51817),p=s(83229),j=s(96950),g=s(23340);s(98527);let v=(0,i.default)(()=>Promise.all([s.e(3070),s.e(1652),s.e(5600)]).then(s.t.bind(s,5600,23)),{loadableGenerated:{webpack:()=>[5600]},ssr:!1}),y={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]]};a.default=()=>{let{id:e}=(0,r.useParams)(),[a,s]=(0,l.useState)(!1),[i,b]=(0,l.useState)([]),[f,N]=(0,l.useState)([]),[S,w]=(0,l.useState)([]),[_,C]=(0,l.useState)(""),[k,P]=(0,l.useState)(""),[I,E]=(0,l.useState)(""),[R,Z]=(0,l.useState)(""),[Q,B]=(0,l.useState)(""),[F,V]=(0,l.useState)(""),[q,O]=(0,l.useState)(!0),{toast:A}=(0,g.pm)(),[U,z]=(0,l.useState)([]),[D,G]=(0,l.useState)(""),[M,Y]=(0,l.useState)([]),[H,J]=(0,l.useState)("");(0,l.useEffect)(()=>{(async()=>{try{let n=await (0,j.eq)();b(n);let c=await (0,j.lm)();if(z(c),e){var a,s,t,l,i,r;let n=await (0,j.lt)(e.toString());Z(n.name),V(n.description||""),C((null===(a=n.category_id)||void 0===a?void 0:a.toString())||""),P((null===(s=n.subcategory_id)||void 0===s?void 0:s.toString())||""),E((null===(t=n.filter_attribute_id)||void 0===t?void 0:t.toString())||""),J((null===(l=n.filter_option_id)||void 0===l?void 0:l.toString())||""),B((null===(i=n.price)||void 0===i?void 0:i.toString())||""),O(n.active),G((null===(r=n.provider_id)||void 0===r?void 0:r.toString())||""),n.category_id&&await K(n.category_id.toString());let c=null!==n.subcategory_id?n.subcategory_id:void 0;await L(n.category_id,c)}}catch(e){A({variant:"error",title:"Error",description:"Failed to load data."})}})()},[e]),(0,l.useEffect)(()=>{I?(async()=>{try{let e=await (0,j.Cg)(parseInt(I));Y(e)}catch(e){Y([])}})():Y([])},[I]),(0,l.useEffect)(()=>{_?(K(_),L(parseInt(_))):(N([]),w([]))},[_]),(0,l.useEffect)(()=>{k?L(parseInt(_),parseInt(k)):L(parseInt(_))},[k]);let K=async e=>{try{let a=await (0,j._Q)(parseInt(e));N(a)}catch(e){N([]),P("")}},L=async(e,a)=>{try{let s=await (0,j._)(e,a||null);w(s)}catch(e){w([]),E("")}},T=async a=>{a.preventDefault(),s(!0);let t={name:R,description:F,category_id:parseInt(_),subcategory_id:k?parseInt(k):null,provider_id:D?parseInt(D):null,filter_attribute_id:I?parseInt(I):null,filter_option_id:H?parseInt(H):null,price:parseFloat(Q),active:q};try{await (0,j.Av)(e.toString(),t),A({variant:"success",title:"Success",description:"Rate Card updated successfully."}),s(!1)}catch(e){A({variant:"error",title:"Error",description:"Failed to update rate card."}),s(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 p-4 md:p-8",children:(0,t.jsxs)("div",{className:"max-w-12xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"text-left space-y-2",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Rate Card"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Modify the existing rate card details"})]}),(0,t.jsxs)(n.Zb,{className:"border-none shadow-xl bg-white/80 backdrop-blur",children:[(0,t.jsx)(n.Ol,{className:"border-b border-gray-100 pb-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"h-8 w-1 bg-blue-600 rounded-full"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.ll,{className:"text-xl text-gray-800",children:"Edit Rate Card"}),(0,t.jsx)(n.SZ,{className:"text-gray-500",children:"Update the fields below to modify the rate card"})]})]})}),(0,t.jsx)(n.aY,{className:"pt-6",children:(0,t.jsxs)("form",{onSubmit:T,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[(0,t.jsx)(u.Z,{className:"w-4 h-4 text-blue-500"}),(0,t.jsx)("span",{children:"Rate Card Name"})]}),(0,t.jsx)(c.I,{placeholder:"Enter rate card name",value:R,onChange:e=>Z(e.target.value),className:"h-11",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[(0,t.jsx)(m.Z,{className:"w-4 h-4 text-blue-500"}),(0,t.jsx)("span",{children:"Select Category"})]}),(0,t.jsxs)(x.Ph,{value:_,onValueChange:e=>{C(e),P(""),E("")},children:[(0,t.jsx)(x.i4,{className:"bg-white border-gray-200",children:(0,t.jsx)(x.ki,{placeholder:"Select a category"})}),(0,t.jsx)(x.Bw,{children:i.map(e=>(null==e?void 0:e.id)&&(null==e?void 0:e.name)?(0,t.jsx)(x.Ql,{value:e.id.toString(),children:e.name},e.id):null)})]})]}),f.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[(0,t.jsx)(m.Z,{className:"w-4 h-4 text-blue-500"}),(0,t.jsx)("span",{children:"Select Subcategory"})]}),(0,t.jsxs)(x.Ph,{value:k,onValueChange:e=>{P(e),E("")},children:[(0,t.jsx)(x.i4,{className:"bg-white border-gray-200",children:(0,t.jsx)(x.ki,{placeholder:"Select a subcategory"})}),(0,t.jsx)(x.Bw,{children:f.map(e=>(null==e?void 0:e.id)&&(null==e?void 0:e.name)?(0,t.jsx)(x.Ql,{value:e.id.toString(),children:e.name},e.id):null)})]})]}),S.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[(0,t.jsx)(m.Z,{className:"w-4 h-4 text-blue-500"}),(0,t.jsx)("span",{children:"Select Filter Attributes"})]}),(0,t.jsxs)(x.Ph,{value:I,onValueChange:e=>E(e),children:[(0,t.jsx)(x.i4,{className:"bg-white border-gray-200",children:(0,t.jsx)(x.ki,{placeholder:"Select filter attributes"})}),(0,t.jsx)(x.Bw,{children:S.map(e=>(null==e?void 0:e.id)&&(null==e?void 0:e.name)?(0,t.jsx)(x.Ql,{value:e.id.toString(),children:e.name},e.id):null)})]})]}),M.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Select Filter Option"}),(0,t.jsxs)(x.Ph,{value:H,onValueChange:e=>J(e),children:[(0,t.jsx)(x.i4,{className:"bg-white border-gray-200",children:(0,t.jsx)(x.ki,{placeholder:"Select a filter option"})}),(0,t.jsx)(x.Bw,{children:M.map(e=>(0,t.jsx)(x.Ql,{value:e.id.toString(),children:e.value},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:(0,t.jsx)("span",{children:"Description"})}),(0,t.jsx)(v,{value:F,onChange:V,theme:"snow",modules:y,style:{height:"200px"}})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:(0,t.jsx)("span",{children:"Price"})}),(0,t.jsx)(c.I,{type:"number",placeholder:"Enter price",value:Q,onChange:e=>B(e.target.value),className:"h-11",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:(0,t.jsx)("span",{children:"Select Provider"})}),(0,t.jsxs)(x.Ph,{value:D,onValueChange:e=>G(e),children:[(0,t.jsx)(x.i4,{className:"bg-white border-gray-200",children:(0,t.jsx)(x.ki,{placeholder:"Select a provider"})}),(0,t.jsx)(x.Bw,{children:U.map(e=>(null==e?void 0:e.id)?(0,t.jsxs)(x.Ql,{value:e.id.toString(),children:[e.first_name," ",e.last_name]},e.id):null)})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:(0,t.jsx)("span",{children:"Rate Card Status"})}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Inactive"}),(0,t.jsx)(o.r,{checked:q,onCheckedChange:O,className:"data-[state=checked]:bg-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Active"})]})]}),(0,t.jsx)("div",{className:"flex space-x-3 pt-6",children:(0,t.jsx)(d.z,{className:"w-100 flex-1 h-11 bg-primary",disabled:a,type:"submit",children:a?(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)(h.Z,{className:"w-4 h-4 animate-spin"}),(0,t.jsx)("span",{children:"Updating..."})]}):(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)(p.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Update Rate Card"})]})})})]})})]})]})})}}},function(e){e.O(0,[6458,8218,73,2496,7514,3175,7218,6714,5315,2971,2117,1744],function(){return e(e.s=6303)}),_N_E=e.O()}]);