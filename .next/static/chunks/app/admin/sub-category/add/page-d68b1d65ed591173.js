(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4849],{7379:function(e,s,a){Promise.resolve().then(a.bind(a,22901))},53113:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(79205).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},99397:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(79205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},18930:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(79205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},22901:function(e,s,a){"use strict";a.r(s);var t=a(57437),l=a(2265),c=a(30166),i=a(79820),r=a(40279),n=a(12381),d=a(15291),x=a(94589),m=a(75277),o=a(76357),h=a(53113),u=a(18930),p=a(99397),j=a(51817),g=a(83229),v=a(96950),N=a(23340);a(98527);let y=(0,c.default)(()=>Promise.all([a.e(3070),a.e(1652),a.e(5600)]).then(a.t.bind(a,5600,23)),{loadableGenerated:{webpack:()=>[5600]},ssr:!1});s.default=()=>{let[e,s]=(0,l.useState)(!1),[a,c]=(0,l.useState)(null),[b,f]=(0,l.useState)(null),[S,w]=(0,l.useState)([]),[C,k]=(0,l.useState)(""),[I,Z]=(0,l.useState)(""),[E,_]=(0,l.useState)(!0),[T,A]=(0,l.useState)(""),[G,z]=(0,l.useState)(null),[D,M]=(0,l.useState)(null),[O,P]=(0,l.useState)(null),[Q,V]=(0,l.useState)([]),[L,R]=(0,l.useState)(""),[B,U]=(0,l.useState)(""),[q,F]=(0,l.useState)(""),{toast:H}=(0,N.pm)(),[W,K]=(0,l.useState)(""),[Y,J]=(0,l.useState)([]),[X,$]=(0,l.useState)([]),[ee,es]=(0,l.useState)(!1),[ea,et]=(0,l.useState)(""),[el,ec]=(0,l.useState)(""),[ei,er]=(0,l.useState)([]),[en,ed]=(0,l.useState)([]),[ex,em]=(0,l.useState)([]),[eo,eh]=(0,l.useState)(!1),[eu,ep]=(0,l.useState)("");(0,l.useEffect)(()=>{(async()=>{try{let e=await (0,v.eq)();w(e)}catch(e){H({variant:"error",title:"Error",description:"Failed to load categories."})}})()},[]),(0,l.useEffect)(()=>{(async()=>{try{let e=await (0,v.G0)();V(e)}catch(e){H({variant:"error",title:"Error",description:"Failed to load tax rates."})}})()},[]);let ej=(e,s)=>{let a=[...ei];a[e]=s,er(a)},eg=e=>{er(s=>s.filter((s,a)=>a!==e))},ev=(e,s,a)=>{let t=[...ex];t[e]={...t[e],[s]:a},em(t)},eN=e=>{em(s=>s.filter((s,a)=>a!==e))},ey=e=>{if(console.log("files",e),e){let s=Array.from(e);ed(e=>[...e,...s])}},eb=e=>{ed(s=>s.filter((s,a)=>a!==e))},ef=(e,s,a)=>{let t=[...Y];t[e]={...t[e],[s]:a},J(t)},eS=e=>{let s=[...Y];s[e].options.push({id:Date.now(),value:""}),J(s)},ew=(e,s,a)=>{let t=[...Y];t[e].options[s]={...t[e].options[s],value:a},J(t)},eC=(e,s)=>{let a=[...Y];a[e].options=a[e].options.filter((e,a)=>a!==s),J(a)},ek=e=>{J(s=>s.filter((s,a)=>a!==e))},eI=(e,s,a)=>{let t=[...X];t[e]={...t[e],[s]:a},$(t)},eZ=e=>{$(s=>s.filter((s,a)=>a!==e))},eE=(e,s)=>{s(parseFloat(e))},e_=async e=>{e.preventDefault(),s(!0);let a=ei.map(e=>({item:e})),t=en.map(e=>({image_path:e})),l={name:T,image:b,category_id:parseInt(C),optional_heading:W,exclude_heading:ea,exclude_description:el,service_time:eu,active:E,attributes:Y,serviceDetails:X,excludeItems:a,includeItems:ex,excludedImages:t,igst_tax:G,sgst_tax:D,cgst_tax:O,sac_code:L,meta_description:B,meta_keyword:q};try{let e=await (0,v.Wc)(l);H({variant:"success",title:"Success.",description:e.message}),s(!1)}catch(e){H({variant:"error",title:"Error.",description:" ".concat(e)}),s(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 p-4 md:p-8",children:(0,t.jsxs)("div",{className:"max-w-12xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"text-left space-y-2",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Subcategory Management"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Create subcategories"})]}),(0,t.jsxs)(i.Zb,{className:"border-none shadow-xl bg-white/80 backdrop-blur",children:[(0,t.jsx)(i.Ol,{className:"border-b border-gray-100 pb-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"h-8 w-1 bg-blue-600 rounded-full"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i.ll,{className:"text-xl text-gray-800",children:"New Subcategory"}),(0,t.jsx)(i.SZ,{className:"text-gray-500",children:"Fill in the details below to create a new subcategory"})]})]})}),(0,t.jsx)(i.aY,{className:"pt-6",children:(0,t.jsxs)("form",{onSubmit:e_,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[(0,t.jsx)(m.Z,{className:"w-4 h-4 text-blue-500"}),(0,t.jsx)("span",{children:"Subcategory Name"})]}),(0,t.jsx)(r.I,{placeholder:"Enter subcategory name",value:T,onChange:e=>A(e.target.value),className:"h-11",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[(0,t.jsx)(m.Z,{className:"w-4 h-4 text-blue-500"}),(0,t.jsx)("span",{children:"Optional heading"})]}),(0,t.jsx)(r.I,{placeholder:"Eg:- No of AC. service",value:W,onChange:e=>K(e.target.value),className:"h-11",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[(0,t.jsx)(m.Z,{className:"w-4 h-4 text-blue-500"}),(0,t.jsx)("span",{children:"Service time"})]}),(0,t.jsx)(r.I,{placeholder:"Eg:- 30 mint",value:eu,onChange:e=>ep(e.target.value),className:"h-11",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[(0,t.jsx)(o.Z,{className:"w-4 h-4 text-blue-500"}),(0,t.jsx)("span",{children:"Select Category"})]}),(0,t.jsxs)(d.Ph,{value:C,onValueChange:e=>k(e),children:[(0,t.jsx)(d.i4,{className:"bg-white border-gray-200",children:(0,t.jsx)(d.ki,{placeholder:"Select a category"})}),(0,t.jsx)(d.Bw,{children:S.map(e=>(null==e?void 0:e.id)&&(null==e?void 0:e.name)?(0,t.jsx)(d.Ql,{value:e.id.toString(),children:e.name},e.id):null)})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[(0,t.jsx)(h.Z,{className:"w-4 h-4 text-blue-500"}),(0,t.jsx)("span",{children:"Subcategory Image"})]}),(0,t.jsx)(r.I,{type:"file",accept:"image/*",onChange:e=>{var s;let a=null===(s=e.target.files)||void 0===s?void 0:s[0];a&&(f(a),c(URL.createObjectURL(a)))},className:"h-11"}),a&&(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("img",{src:a,alt:"Subcategory Preview",className:"h-32 w-32 object-cover rounded-md"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:(0,t.jsx)("span",{children:"IGST (%)"})}),(0,t.jsxs)(d.Ph,{value:(null==G?void 0:G.toString())||"",onValueChange:e=>eE(e,z),children:[(0,t.jsx)(d.i4,{className:"bg-white border-gray-200",children:(0,t.jsx)(d.ki,{placeholder:"Select IGST"})}),(0,t.jsx)(d.Bw,{children:Q.map(e=>(0,t.jsx)(d.Ql,{value:e.IGST.toString(),children:e.IGST},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:(0,t.jsx)("span",{children:"SGST (%)"})}),(0,t.jsxs)(d.Ph,{value:(null==D?void 0:D.toString())||"",onValueChange:e=>eE(e,M),children:[(0,t.jsx)(d.i4,{className:"bg-white border-gray-200",children:(0,t.jsx)(d.ki,{placeholder:"Select IGST"})}),(0,t.jsx)(d.Bw,{children:Q.map(e=>(0,t.jsx)(d.Ql,{value:e.SGST.toString(),children:e.SGST},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:(0,t.jsx)("span",{children:"CGST (%)"})}),(0,t.jsxs)(d.Ph,{value:(null==O?void 0:O.toString())||"",onValueChange:e=>eE(e,P),children:[(0,t.jsx)(d.i4,{className:"bg-white border-gray-200",children:(0,t.jsx)(d.ki,{placeholder:"Select IGST"})}),(0,t.jsx)(d.Bw,{children:Q.map(e=>(0,t.jsx)(d.Ql,{value:e.CGST.toString(),children:e.CGST},e.id))})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:(0,t.jsx)("span",{children:"SAC Code"})}),(0,t.jsx)(r.I,{type:"text",placeholder:"Enter SAC code",value:L,onChange:e=>R(e.target.value),className:"h-11"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:(0,t.jsx)("span",{children:"Meta Description"})}),(0,t.jsx)(r.I,{placeholder:"Enter meta description",value:B,onChange:e=>U(e.target.value),className:"h-11"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:(0,t.jsx)("span",{children:"Meta Keywords"})}),(0,t.jsx)(r.I,{placeholder:"Enter meta keywords (comma-separated)",value:q,onChange:e=>F(e.target.value),className:"h-11"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:(0,t.jsx)("span",{children:"Subcategory Status"})}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Inactive"}),(0,t.jsx)(x.r,{checked:E,onCheckedChange:_,className:"data-[state=checked]:bg-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Active"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Attributes"}),Y.map((e,s)=>(0,t.jsxs)("div",{className:"space-y-2 border p-4 rounded-md bg-gray-50",children:[(0,t.jsx)(r.I,{placeholder:"Attribute Name",value:e.name,onChange:e=>ef(s,"name",e.target.value),className:"h-10"}),(0,t.jsxs)(d.Ph,{value:e.type,onValueChange:e=>ef(s,"type",e),children:[(0,t.jsx)(d.i4,{className:"bg-white border-gray-200",children:(0,t.jsx)(d.ki,{placeholder:"Select Type"})}),(0,t.jsxs)(d.Bw,{children:[(0,t.jsx)(d.Ql,{value:"list",children:"List"}),(0,t.jsx)(d.Ql,{value:"dropdown",children:"Dropdown"}),(0,t.jsx)(d.Ql,{value:"search",children:"Search"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"text-sm font-medium",children:"Options"}),e.options.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(r.I,{placeholder:"Option ".concat(a+1),value:e.value,onChange:e=>ew(s,a,e.target.value),className:"h-10 flex-1"}),(0,t.jsx)(n.z,{type:"button",variant:"ghost",className:"p-2 text-red-500",onClick:()=>eC(s,a),children:(0,t.jsx)(u.Z,{className:"w-4 h-4"})})]},a)),(0,t.jsxs)(n.z,{type:"button",variant:"outline",className:"mt-2 flex items-center",onClick:()=>eS(s),children:[(0,t.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"Add Option"]})]}),(0,t.jsxs)(n.z,{type:"button",variant:"ghost",className:"mt-4 flex items-center text-red-500",onClick:()=>ek(s),children:[(0,t.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),"Remove Attribute"]})]},s)),(0,t.jsxs)(n.z,{type:"button",variant:"outline",onClick:()=>{J(e=>[...e,{name:"",type:"list",options:[{id:Date.now(),value:""}]}])},children:[(0,t.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"Add Attribute"]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Service Details"}),X.map((e,s)=>(0,t.jsxs)("div",{className:"space-y-2 border p-4 rounded-md bg-gray-50",children:[(0,t.jsx)(r.I,{placeholder:"Service Title",value:e.title,onChange:e=>eI(s,"title",e.target.value),className:"h-10"}),(0,t.jsx)(y,{value:e.description,onChange:e=>eI(s,"description",e),theme:"snow"}),(0,t.jsxs)(n.z,{type:"button",variant:"ghost",className:"mt-4 flex items-center text-red-500",onClick:()=>eZ(s),children:[(0,t.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),"Remove Service Detail"]})]},s)),(0,t.jsxs)(n.z,{type:"button",variant:"outline",onClick:()=>{$(e=>[...e,{title:"",description:""}])},children:[(0,t.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"Add Service Detail"]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(n.z,{type:"button",onClick:()=>es(!ee),className:"mb-4",children:ee?"Hide Exclude Section":"Show Exclude Section"}),ee&&(0,t.jsxs)("div",{className:"space-y-6 border p-4 rounded-md bg-gray-50",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Exclude Heading"}),(0,t.jsx)(r.I,{placeholder:"Enter heading",value:ea,onChange:e=>et(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Exclude Description"}),(0,t.jsx)(r.I,{placeholder:"Enter description",value:el,onChange:e=>ec(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Upload Images"}),(0,t.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>ey(e.target.files)}),(0,t.jsx)("div",{className:"flex flex-wrap gap-4 mt-4",children:en.map((e,s)=>(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:URL.createObjectURL(e),alt:"Exclude Image ".concat(s+1),className:"w-24 h-24 object-cover rounded-md"}),(0,t.jsx)("button",{type:"button",className:"absolute top-1 right-1 bg-white rounded-full p-1 text-red-500",onClick:()=>eb(s),children:(0,t.jsx)(u.Z,{className:"w-4 h-4"})})]},s))})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Exclude Items"}),ei.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center space-x-3 bg-gray-100 p-2 rounded-md",children:[(0,t.jsx)(r.I,{placeholder:"Item ".concat(s+1),value:e,onChange:e=>ej(s,e.target.value),className:"h-10 flex-1"}),(0,t.jsx)(n.z,{type:"button",variant:"ghost",className:"p-2 text-red-500",onClick:()=>eg(s),children:(0,t.jsx)(u.Z,{className:"w-4 h-4"})})]},s)),(0,t.jsxs)(n.z,{type:"button",variant:"outline",className:"flex items-center",onClick:()=>{er(e=>[...e,""])},children:[(0,t.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"Add Exclude Item"]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(n.z,{type:"button",onClick:()=>eh(e=>!e),className:"mb-4",children:ee?"Hide Include Section":"Show Include Section"}),eo&&(0,t.jsxs)("div",{className:"space-y-4 border p-4 rounded-md bg-gray-50",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Include Items"}),ex.map((e,s)=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r.I,{placeholder:"Title",value:e.title,onChange:e=>ev(s,"title",e.target.value),className:"h-10"}),(0,t.jsx)(r.I,{placeholder:"Description",value:e.description,onChange:e=>ev(s,"description",e.target.value),className:"h-10"}),(0,t.jsx)(n.z,{type:"button",variant:"ghost",className:"p-2 text-red-500",onClick:()=>eN(s),children:(0,t.jsx)(u.Z,{className:"w-4 h-4"})})]},s)),(0,t.jsxs)(n.z,{type:"button",onClick:()=>{em(e=>[...e,{title:"",description:""}])},variant:"outline",className:"mt-2 flex items-center",children:[(0,t.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"Add More"]})]})]})]})}),(0,t.jsx)(i.eW,{className:"border-t border-gray-100 mt-6",children:(0,t.jsx)("div",{className:"flex space-x-3 pt-6",children:(0,t.jsx)(n.z,{className:"w-100 flex-1 h-11 bg-primary",disabled:e,onClick:e_,children:e?(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)(j.Z,{className:"w-4 h-4 animate-spin"}),(0,t.jsx)("span",{children:"Saving..."})]}):(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)(g.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Save Subcategory"})]})})})})]})]})})}}},function(e){e.O(0,[6458,8218,73,2496,7514,3175,7218,6714,5315,2971,2117,1744],function(){return e(e.s=7379)}),_N_E=e.O()}]);