(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6200],{20067:function(){},72061:function(){},52803:function(e,s,t){Promise.resolve().then(t.bind(t,29065))},92735:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},15673:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("FileInput",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]])},53113:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},83774:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},99397:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},18930:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},99376:function(e,s,t){"use strict";var a=t(35475);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},29065:function(e,s,t){"use strict";t.r(s);var a=t(57437),l=t(2265),c=t(30166),i=t(99376),n=t(79820),r=t(40279),d=t(12381),o=t(15291),x=t(94589),m=t(75277),h=t(53113),u=t(18930),p=t(99397),j=t(76357),g=t(83774),y=t(15673),v=t(92735),N=t(51817),f=t(83229),b=t(96950),S=t(2093),w=t(23340);t(98527);let C=(0,c.default)(()=>Promise.all([t.e(3070),t.e(1652),t.e(5600)]).then(t.t.bind(t,5600,23)),{loadableGenerated:{webpack:()=>[5600]},ssr:!1}),k={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]]};s.default=()=>{let e=(0,i.useRouter)(),s=(0,i.usePathname)(),t=null==s?void 0:s.split("/").pop(),[c,I]=(0,l.useState)(!1),[_,Z]=(0,l.useState)(null),[E,P]=(0,l.useState)(null),[U,z]=(0,l.useState)(""),[A,T]=(0,l.useState)([]),[D,G]=(0,l.useState)(""),[L,R]=(0,l.useState)("specific"),[M,O]=(0,l.useState)("google"),[Q,V]=(0,l.useState)(""),[B,q]=(0,l.useState)(!0),[H,F]=(0,l.useState)(""),[Y,J]=(0,l.useState)(""),[K,W]=(0,l.useState)(null),[X,$]=(0,l.useState)(null),[ee,es]=(0,l.useState)(null),[et,ea]=(0,l.useState)(""),[el,ec]=(0,l.useState)([]),[ei,en]=(0,l.useState)([]),[er,ed]=(0,l.useState)([]),[eo,ex]=(0,l.useState)(!1),[em,eh]=(0,l.useState)(""),[eu,ep]=(0,l.useState)(""),[ej,eg]=(0,l.useState)([]),[ey,ev]=(0,l.useState)([]),[eN,ef]=(0,l.useState)([]),[eb,eS]=(0,l.useState)(!1),{toast:ew}=(0,w.pm)();(0,l.useEffect)(()=>{t&&eC(t)},[t]),(0,l.useEffect)(()=>{(async()=>{try{let e=await (0,b.G0)();ec(e)}catch(e){ew({variant:"error",title:"Error",description:"Failed to load tax rates."})}})()},[]);let eC=async e=>{try{var s,t,a;let l=await (0,b.il)(e);if(F(l.name||""),z(l.optional_heading||""),q(l.active||!0),T(l.locations||[]),en(l.attributes||[]),ed(l.serviceDetails||[]),J(l.service_time||""),W(l.sgst_tax||null),$(l.cgst_tax||null),es(null!==(a=l.igst_tax)&&void 0!==a?a:null),console.log("categoryData.igst_tax",l.igst_tax),ea(l.sac_code||""),eh(l.exclude_heading||""),ep(l.exclude_description||""),l.excludeItems){let e=l.excludeItems.map(e=>e.item);eg(e||[])}else eg([]);if(ex(((null===(s=l.excludeItems)||void 0===s?void 0:s.length)||0)>0),l.excludedImages){let e=l.excludedImages.map(e=>({image:e.image_path}));ev(e?e.map(e=>e.image):[])}else ev([]);console.log(l.excludedImages,"categoryData.excludeImages"),ef(l.includeItems||[]),eS(((null===(t=l.includeItems)||void 0===t?void 0:t.length)||0)>0),"string"==typeof l.image&&l.image?Z("".concat(l.image)):Z(null),O(l.location_method||"excel"),R(l.location_type||"specific")}catch(e){ew({title:"Error",description:"Failed to fetch category: ".concat(e),variant:"destructive"})}},ek=e=>{en(s=>s.filter((s,t)=>t!==e))},eI=(e,s,t)=>{let a=[...ei];a[e]={...a[e],[s]:t},en(a)},e_=e=>{let s=[...ei];s[e].options.push({id:Date.now(),value:""}),en(s)},eZ=(e,s,t)=>{let a=[...ei];a[e].options[s]={...a[e].options[s],value:t},en(a)},eE=(e,s)=>{let t=[...ei];t[e].options=t[e].options.filter((e,t)=>t!==s),en(t)},eP=(e,s,t)=>{ed(a=>{let l=[...a];return l[e][s]!==t&&(l[e]={...l[e],[s]:t}),l})},eU=e=>{ed(s=>s.filter((s,t)=>t!==e))},ez=(e,s)=>{let t=[...ej];t[e]=s,eg(t)},eA=e=>{eg(s=>s.filter((s,t)=>t!==e))},eT=e=>{if(console.log("files",e),e){let s=Array.from(e);ev(e=>[...e,...s])}},eD=e=>{ev(s=>s.filter((s,t)=>t!==e))},eG=(e,s,t)=>{let a=[...eN];a[e]={...a[e],[s]:t},ef(a)},eL=e=>{ef(s=>s.filter((s,t)=>t!==e))},eR=async s=>{s.preventDefault(),I(!0);let a=ej.map(e=>({item:e})),l=ey.map(e=>({image_path:e}));try{await (0,b.yr)(t,{name:H,image:E,optional_heading:U,locations:A,exclude_heading:em,exclude_description:eu,location_type:L,service_time:Y,active:B,attributes:ei,serviceDetails:er,location_method:M,igst_tax:ee,sgst_tax:K,cgst_tax:X,sac_code:et,excludeItems:a,includeItems:eN,excludedImages:l}),ew({variant:"success",title:"Success.",description:"Category updated successfully"}),e.push("/admin/category")}catch(e){ew({variant:"error",title:"Error.",description:"".concat(e)})}finally{I(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 p-4 md:p-8",children:(0,a.jsxs)("div",{className:"max-w-12xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"text-left space-y-2",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Category"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Update category details"})]}),(0,a.jsxs)(n.Zb,{className:"border-none shadow-xl bg-white/80 backdrop-blur",children:[(0,a.jsx)(n.Ol,{className:"border-b border-gray-100 pb-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"h-8 w-1 bg-blue-600 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.ll,{className:"text-xl text-gray-800",children:"Edit Category"}),(0,a.jsx)(n.SZ,{className:"text-gray-500",children:"Update the details below to modify the category"})]})]})}),(0,a.jsx)(n.aY,{className:"pt-6",children:(0,a.jsxs)("form",{onSubmit:eR,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 text-blue-500"}),(0,a.jsx)("span",{children:"Category Name"})]}),(0,a.jsx)(r.I,{placeholder:"Enter category name",value:H,onChange:e=>F(e.target.value),className:"h-11",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 text-blue-500"}),(0,a.jsx)("span",{children:"Optional heading"})]}),(0,a.jsx)(r.I,{placeholder:"Eg:- No of AC. service",value:U,onChange:e=>z(e.target.value),className:"h-11",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 text-blue-500"}),(0,a.jsx)("span",{children:"Service time"})]}),(0,a.jsx)(r.I,{placeholder:"Eg:- 30 mint",value:Y,onChange:e=>J(e.target.value),className:"h-11",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 text-blue-500"}),(0,a.jsx)("span",{children:"Category Image"})]}),(0,a.jsx)(r.I,{type:"file",accept:"image/*",onChange:e=>{var s;let t=null===(s=e.target.files)||void 0===s?void 0:s[0];t&&(P(t),Z(URL.createObjectURL(t)))},className:"h-11"}),_&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("img",{src:_,alt:"Category Preview",className:"h-32 w-32 object-cover rounded-md"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:(0,a.jsx)("span",{children:"IGST (%)"})}),(0,a.jsxs)(o.Ph,{value:null!==ee?ee.toString():"",onValueChange:e=>es(parseInt(e)),children:[(0,a.jsx)(o.i4,{className:"bg-white border-gray-200",children:(0,a.jsx)(o.ki,{placeholder:"Select IGST"})}),(0,a.jsx)(o.Bw,{children:el.map(e=>(0,a.jsxs)(o.Ql,{value:e.IGST.toString(),children:[e.IGST,"%"]},"igst-".concat(e.id)))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:(0,a.jsx)("span",{children:"SGST (%)"})}),(0,a.jsxs)(o.Ph,{value:(null==K?void 0:K.toString())||"",onValueChange:e=>W(parseInt(e)),children:[(0,a.jsx)(o.i4,{className:"bg-white border-gray-200",children:(0,a.jsx)(o.ki,{placeholder:"Select SGST"})}),(0,a.jsx)(o.Bw,{children:el.map(e=>(0,a.jsxs)(o.Ql,{value:e.SGST.toString(),children:[e.SGST,"%"]},"sgst-".concat(e.id)))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:(0,a.jsx)("span",{children:"CGST (%)"})}),(0,a.jsxs)(o.Ph,{value:(null==X?void 0:X.toString())||"",onValueChange:e=>$(parseInt(e)),children:[(0,a.jsx)(o.i4,{className:"bg-white border-gray-200",children:(0,a.jsx)(o.ki,{placeholder:"Select CGST"})}),(0,a.jsx)(o.Bw,{children:el.map(e=>(0,a.jsxs)(o.Ql,{value:e.CGST.toString(),children:[e.CGST,"%"]},"cgst-".concat(e.id)))})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:(0,a.jsx)("span",{children:"SAC Code"})}),(0,a.jsx)(r.I,{type:"text",placeholder:"Enter SAC Code",value:et,onChange:e=>ea(e.target.value),className:"h-11"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:(0,a.jsx)("span",{children:"Category Status"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Inactive"}),(0,a.jsx)(x.r,{checked:B,onCheckedChange:q,className:"data-[state=checked]:bg-blue-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Active"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Attributes"}),ei.map((e,s)=>(0,a.jsxs)("div",{className:"space-y-2 border p-4 rounded-md bg-gray-50",children:[(0,a.jsx)(r.I,{placeholder:"Attribute Name",value:e.name,onChange:e=>eI(s,"name",e.target.value),className:"h-10"}),(0,a.jsxs)(o.Ph,{value:e.type,onValueChange:e=>eI(s,"type",e),children:[(0,a.jsx)(o.i4,{className:"bg-white border-gray-200",children:(0,a.jsx)(o.ki,{placeholder:"Select Type"})}),(0,a.jsxs)(o.Bw,{children:[(0,a.jsx)(o.Ql,{value:"list",children:"List"}),(0,a.jsx)(o.Ql,{value:"dropdown",children:"Dropdown"}),(0,a.jsx)(o.Ql,{value:"search",children:"Search"})]})]}),"list"===e.type&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"text-sm font-medium",children:"Options"}),e.options.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.I,{placeholder:"Option ".concat(t+1),value:e.value||"",onChange:e=>eZ(s,t,e.target.value),className:"h-10 flex-1"}),(0,a.jsx)(d.z,{type:"button",variant:"ghost",className:"p-2 text-red-500",onClick:()=>eE(s,t),children:(0,a.jsx)(u.Z,{className:"w-4 h-4"})})]},t)),(0,a.jsxs)(d.z,{type:"button",variant:"outline",className:"mt-2 flex items-center",onClick:()=>e_(s),children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"Add Option"]})]}),(0,a.jsxs)(d.z,{type:"button",variant:"ghost",className:"mt-4 flex items-center text-red-500",onClick:()=>ek(s),children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),"Remove Attribute"]})]},s)),(0,a.jsxs)(d.z,{type:"button",variant:"outline",onClick:()=>{en(e=>[...e,{name:"",type:"list",options:[{id:Date.now(),value:""}]}])},children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"Add Attribute"]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Service Details"}),er.map((e,s)=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.I,{placeholder:"Service Title",value:e.title,onChange:e=>eP(s,"title",e.target.value)}),(0,a.jsx)(C,{value:e.description,onChange:e=>eP(s,"description",e),modules:k}),(0,a.jsxs)(d.z,{type:"button",variant:"ghost",className:"mt-4 flex items-center text-red-500",onClick:()=>eU(s),children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),"Remove Service Detail"]})]},s)),(0,a.jsx)(d.z,{type:"button",onClick:()=>{ed(e=>[...e,{title:"",description:""}])},children:"Add Service Detail"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(d.z,{type:"button",onClick:()=>ex(!eo),className:"mb-4",children:eo?"Hide Exclude Section":"Show Exclude Section"}),eo&&(0,a.jsxs)("div",{className:"space-y-6 border p-4 rounded-md bg-gray-50",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Exclude Heading"}),(0,a.jsx)(r.I,{placeholder:"Enter heading",value:em,onChange:e=>eh(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Exclude Description"}),(0,a.jsx)(r.I,{placeholder:"Enter description",value:eu,onChange:e=>ep(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Upload Images"}),(0,a.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>eT(e.target.files)}),(0,a.jsx)("div",{className:"flex flex-wrap gap-4 mt-4",children:ey.map((e,s)=>(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:e instanceof File?URL.createObjectURL(e):e,alt:"Exclude Image ".concat(s+1),className:"w-24 h-24 object-cover rounded-md"}),(0,a.jsx)("button",{type:"button",className:"absolute top-1 right-1 bg-white rounded-full p-1 text-red-500",onClick:()=>eD(s),children:(0,a.jsx)(u.Z,{className:"w-4 h-4"})})]},s))})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Exclude Items"}),ej.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 bg-gray-100 p-2 rounded-md",children:[(0,a.jsx)(r.I,{placeholder:"Item ".concat(s+1),value:e,onChange:e=>ez(s,e.target.value),className:"h-10 flex-1"}),(0,a.jsx)(d.z,{type:"button",variant:"ghost",className:"p-2 text-red-500",onClick:()=>eA(s),children:(0,a.jsx)(u.Z,{className:"w-4 h-4"})})]},s)),(0,a.jsxs)(d.z,{type:"button",variant:"outline",className:"flex items-center",onClick:()=>{eg(e=>[...e,""])},children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"Add Exclude Item"]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(d.z,{type:"button",onClick:()=>eS(e=>!e),className:"mb-4",children:eo?"Hide Include Section":"Show Include Section"}),eb&&(0,a.jsxs)("div",{className:"space-y-4 border p-4 rounded-md bg-gray-50",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Include Items"}),eN.map((e,s)=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.I,{placeholder:"Title",value:e.title,onChange:e=>eG(s,"title",e.target.value),className:"h-10"}),(0,a.jsx)(r.I,{placeholder:"Description",value:e.description,onChange:e=>eG(s,"description",e.target.value),className:"h-10"}),(0,a.jsx)(d.z,{type:"button",variant:"ghost",className:"p-2 text-red-500",onClick:()=>eL(s),children:(0,a.jsx)(u.Z,{className:"w-4 h-4"})})]},s)),(0,a.jsxs)(d.z,{type:"button",onClick:()=>{ef(e=>[...e,{title:"",description:""}])},variant:"outline",className:"mt-2 flex items-center",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"Add More"]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4 text-blue-500"}),(0,a.jsx)("span",{children:"Location Type"})]}),(0,a.jsxs)(o.Ph,{value:L,onValueChange:e=>R(e),children:[(0,a.jsx)(o.i4,{className:"bg-white border-gray-200",children:(0,a.jsx)(o.ki,{placeholder:"Select location type"})}),(0,a.jsxs)(o.Bw,{children:[(0,a.jsx)(o.Ql,{value:"penindia",children:"Penindia"}),(0,a.jsx)(o.Ql,{value:"specific",children:"Specific"})]})]})]}),"specific"===L&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[(0,a.jsx)(g.Z,{className:"w-4 h-4 text-blue-500"}),(0,a.jsx)("span",{children:"Location Method"})]}),(0,a.jsxs)(o.Ph,{value:M,onValueChange:e=>O(e),children:[(0,a.jsx)(o.i4,{className:"bg-white border-gray-200",children:(0,a.jsx)(o.ki,{placeholder:"Select method"})}),(0,a.jsxs)(o.Bw,{children:[(0,a.jsx)(o.Ql,{value:"google",children:"Google Places"}),(0,a.jsx)(o.Ql,{value:"excel",children:"Excel Import"})]})]})]}),"specific"===L&&"google"===M&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[(0,a.jsx)(g.Z,{className:"w-4 h-4 text-blue-500"}),(0,a.jsx)("span",{children:"Google Places Search"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(r.I,{id:"location-input",value:D,onChange:e=>G(e.target.value),placeholder:"Search for a location",className:"h-11"}),(0,a.jsx)(d.z,{type:"button",onClick:e=>{if(e.preventDefault(),D){let e={country:"Unknown",state:"Unknown",city:D,postal_code:null,latitude:null,longitude:null,source_type:"manual"};T(s=>[...s,e]),G("")}},children:"Add"})]})]}),(0,a.jsx)("div",{className:"space-y-1",children:A.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-100 rounded-md",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"".concat(e.city,", ").concat(e.state,", ").concat(e.country)}),(0,a.jsx)(d.z,{type:"button",variant:"ghost",onClick:()=>T(A.filter((e,t)=>t!==s)),children:"Remove"})]},s))})]}),"specific"===L&&"excel"===M&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[(0,a.jsx)(y.Z,{className:"w-4 h-4 text-blue-500"}),(0,a.jsx)("span",{children:"Import from Excel"})]}),(0,a.jsx)(r.I,{type:"file",accept:".xls, .xlsx, .csv",onChange:e=>{var s;let t=null===(s=e.target.files)||void 0===s?void 0:s[0];if(t){let e=new FileReader;e.onload=e=>{var s;let t=null===(s=e.target)||void 0===s?void 0:s.result,a=S.ij(t,{type:"binary"}),l=a.SheetNames[0],c=a.Sheets[l],i=S.P6.sheet_to_json(c,{header:1}).slice(1).map(e=>({country:e[0]||"Unknown",state:e[1]||"Unknown",city:e[2]||"Unknown",postal_code:e[3]||null,latitude:e[4]||null,longitude:e[5]||null,source_type:"sheet"}));T(e=>[...e,...i])},e.readAsBinaryString(t)}},className:"h-11"})]}),(0,a.jsxs)(d.z,{type:"button",variant:"outline",onClick:()=>{let e=new Blob(['Country,State,City,Postal Code,Latitude,Longitude\n"USA","California","Los Angeles","90001",34.052235,-118.243683'],{type:"text/csv"}),s=URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download="Sample_Locations.csv",t.click(),URL.revokeObjectURL(s)},children:[(0,a.jsx)(v.Z,{className:"w-4 h-4 mr-2"}),"Download Sample Excel"]})]}),(0,a.jsx)(d.z,{className:"w-100 flex-1 h-11 bg-primary",disabled:c,type:"submit",children:c?(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)(N.Z,{className:"w-4 h-4 animate-spin"}),(0,a.jsx)("span",{children:"Updating..."})]}):(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)(f.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Update Category"})]})})]})})]})]})})}}},function(e){e.O(0,[6458,8218,1425,73,2496,7514,3175,7218,6714,5315,2971,2117,1744],function(){return e(e.s=52803)}),_N_E=e.O()}]);