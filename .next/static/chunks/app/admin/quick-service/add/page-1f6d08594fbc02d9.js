(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2312],{70634:function(e,s,t){Promise.resolve().then(t.bind(t,62213))},62213:function(e,s,t){"use strict";t.r(s);var r=t(57437),a=t(2265),i=t(40279),c=t(94589),n=t(12381),l=t(79820),d=t(23340),o=t(40875),u=t(51817),f=t(68245),m=t(96950);s.default=()=>{let[e,s]=(0,a.useState)(null),[t,g]=(0,a.useState)(null),[x,b]=(0,a.useState)([]),[h,p]=(0,a.useState)([]),[v,y]=(0,a.useState)(!0),[N,j]=(0,a.useState)(!1),[w,k]=(0,a.useState)(!1),{toast:S}=(0,d.pm)();(0,a.useEffect)(()=>{(async()=>{try{let e=await (0,m.eq)();b(e||[]);let s=await (0,m.EB)();if(s){let e="string"==typeof s.category_ids?JSON.parse(s.category_ids):Array.isArray(s.category_ids)?s.category_ids:[];p(e),y(s.active||!0),s.image&&g("".concat(s.image))}}catch(e){}})()},[]);let C=(e,s)=>{s?p(s=>[...s,e]):p(s=>s.filter(s=>s!==e))},_=async s=>{if(s.preventDefault(),j(!0),!e&&!t){S({variant:"error",title:"Validation Error",description:"An image is required."}),j(!1);return}if(0===h.length){S({variant:"error",title:"Validation Error",description:"At least one category must be selected."}),j(!1);return}try{await (0,m.J8)({image:e,category_ids:h,active:v}),S({variant:"success",title:"Success",description:"Quick service saved successfully."})}catch(e){S({variant:"error",title:"Error",description:e.message||"Failed to save quick service."})}finally{j(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 p-4 md:p-8",children:(0,r.jsxs)("div",{className:"max-w-12xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{className:"text-left space-y-2",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Home Quick Services"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Add or edit quick services with categories"})]}),(0,r.jsxs)(l.Zb,{className:"border-none shadow-xl bg-white/80 backdrop-blur",children:[(0,r.jsxs)(l.Ol,{className:"border-b border-gray-100 pb-6",children:[(0,r.jsx)(l.ll,{className:"text-xl text-gray-800",children:"New Quick Service"}),(0,r.jsx)(l.SZ,{className:"text-gray-500",children:"Fill in the details below to create or edit a quick service"})]}),(0,r.jsx)(l.aY,{className:"pt-6",children:(0,r.jsxs)("form",{onSubmit:_,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Image"}),(0,r.jsx)(i.I,{type:"file",accept:"image/*",onChange:e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&(s(r),g(URL.createObjectURL(r)))}}),t&&(0,r.jsx)("img",{src:t,alt:"Preview",className:"mt-2 h-32 w-32 object-cover rounded-md"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Select Categories"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{type:"button",className:"flex items-center justify-between w-full p-2 bg-white border border-gray-200 rounded",onClick:()=>k(!w),children:[h.length>0?"Selected (".concat(h.length,")"):"Select categories",(0,r.jsx)(o.Z,{className:"w-4 h-4"})]}),w&&(0,r.jsx)("div",{className:"absolute z-10 mt-2 w-full bg-white border border-gray-200 rounded shadow-lg max-h-60 overflow-auto",children:x.map(e=>(0,r.jsxs)("div",{className:"flex items-center p-2",children:[(0,r.jsx)(f.X,{checked:h.includes(e.id.toString()),onCheckedChange:s=>C(e.id.toString(),s)}),(0,r.jsx)("span",{className:"ml-2",children:e.name})]},e.id))})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(c.r,{checked:v,onCheckedChange:y}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"Active"})]}),(0,r.jsx)(n.z,{type:"submit",disabled:N,className:"w-full",children:N?(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(u.Z,{className:"w-4 h-4 animate-spin"}),(0,r.jsx)("span",{children:"Saving..."})]}):"Save Quick Service"})]})})]})]})})}},68245:function(e,s,t){"use strict";t.d(s,{X:function(){return l}});var r=t(57437),a=t(2265),i=t(9270),c=t(30401),n=t(93448);let l=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(i.fC,{ref:s,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...a,children:(0,r.jsx)(i.z$,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(c.Z,{className:"h-4 w-4"})})})});l.displayName=i.fC.displayName},40279:function(e,s,t){"use strict";t.d(s,{I:function(){return c}});var r=t(57437),a=t(2265),i=t(93448);let c=a.forwardRef((e,s)=>{let{className:t,type:a,...c}=e;return(0,r.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...c})});c.displayName="Input"},94589:function(e,s,t){"use strict";t.d(s,{r:function(){return n}});var r=t(57437),a=t(2265),i=t(50721),c=t(93448);let n=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(i.fC,{className:(0,c.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...a,ref:s,children:(0,r.jsx)(i.bU,{className:(0,c.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});n.displayName=i.fC.displayName}},function(e){e.O(0,[8218,73,2496,4157,6714,2971,2117,1744],function(){return e(e.s=70634)}),_N_E=e.O()}]);