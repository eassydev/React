(()=>{var e={};e.id=9079,e.ids=[9079],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},11538:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>o}),r(14530),r(59964),r(35213),r(90996);var t=r(30170),s=r(45002),i=r(83876),n=r.n(i),l=r(66299),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(a,d);let o=["",{children:["admin",{children:["booking",{children:["add",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,14530)),"C:\\laragon\\www\\innovins\\easyserve-new\\next-shadcn-admin-dashboard\\src\\app\\admin\\booking\\add\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,59964)),"C:\\laragon\\www\\innovins\\easyserve-new\\next-shadcn-admin-dashboard\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,35213)),"C:\\laragon\\www\\innovins\\easyserve-new\\next-shadcn-admin-dashboard\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\laragon\\www\\innovins\\easyserve-new\\next-shadcn-admin-dashboard\\src\\app\\admin\\booking\\add\\page.tsx"],u="/admin/booking/add/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/booking/add/page",pathname:"/admin/booking/add",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},32522:(e,a,r)=>{Promise.resolve().then(r.bind(r,6061))},8749:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(26323).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7663:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(26323).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},6061:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>x});var t=r(97247),s=r(28964),i=r(85426),n=r(58760),l=r(28852),d=r(55757),o=r(8749),c=r(7663),u=r(49835),m=r(95714);let x=()=>{let[e,a]=(0,s.useState)(null),[r,x]=(0,s.useState)(null),[h,p]=(0,s.useState)(""),[g,b]=(0,s.useState)(""),[v,y]=(0,s.useState)(null),[j,f]=(0,s.useState)(1),[w,S]=(0,s.useState)(0),[N,k]=(0,s.useState)(0),[P,_]=(0,s.useState)(""),[q,C]=(0,s.useState)(null),[E,B]=(0,s.useState)([]),[Q,V]=(0,s.useState)([]),[Z,A]=(0,s.useState)([]),[I,M]=(0,s.useState)([]),[$,G]=(0,s.useState)(!1),{toast:R}=(0,u.pm)();(0,s.useEffect)(()=>{(async()=>{try{let e=await (0,m.qn)(),a=await (0,m.Eq)();V(e.map(e=>({id:e.id,name:`${e.first_name} ${e.last_name}`}))),A(a.map(e=>({id:e.id,name:`${e.first_name} ${e.last_name}`})))}catch(e){R({variant:"error",title:"Error",description:"Failed to load initial data."})}})()},[R]),(0,s.useEffect)(()=>{e?(async()=>{try{let a=await (0,m.PQ)(e);M(a)}catch(e){R({variant:"error",title:"Error",description:e.message||"Failed to load user addresses."})}})():M([])},[e,R]),(0,s.useEffect)(()=>{let e=async()=>{try{let e=[];switch(P){case"Category":e=(await (0,m.eq)()).map(e=>({id:Number(e.id)||0,name:e.name||"Unnamed Category"}));break;case"Subcategory":e=(await (0,m.lX)()).map(e=>({id:Number(e.id)||0,name:e.name||"Unnamed Subcategory"}));break;case"Ratecard":e=(await (0,m.eJ)()).map(e=>({id:Number(e.id)||0,name:e.name||"Unnamed Ratecard"}));break;case"Package":e=(await (0,m.S$)()).map(e=>({id:Number(e.id)||0,name:e.name||"Unnamed Package"}));break;default:B([]);return}B(e),C(null)}catch(e){R({variant:"error",title:"Error",description:`Failed to load ${P} options.`})}};P&&e()},[P,R]);let U=async t=>{if(t.preventDefault(),!e||!r||!h||!g||!v||!P||!q){R({variant:"error",title:"Validation Error",description:"Please fill in all required fields."});return}G(!0);try{await (0,m.TB)({user_id:e,provider_id:r,order_number:h,booking_date:g,address_id:v,quantity:j,base_price:w,total_amount:N,selection_type:P,selection_id:q}),R({variant:"success",title:"Success",description:"Booking created successfully."}),a(null),x(null),p(""),b(""),y(null),f(1),S(0),k(0),_(""),C(null),B([])}catch(e){R({variant:"error",title:"Error",description:"Failed to create booking."})}finally{G(!1)}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 p-4 md:p-8",children:t.jsx("div",{className:"max-w-12xl mx-auto space-y-6",children:t.jsx(d.Zb,{className:"border-none shadow-xl bg-white/80 backdrop-blur",children:(0,t.jsxs)("form",{onSubmit:U,className:"space-y-6",children:[(0,t.jsxs)(d.Ol,{children:[t.jsx(d.ll,{children:"Create New Booking"}),t.jsx(d.SZ,{children:"Fill in the details below to create a new booking"})]}),(0,t.jsxs)(d.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Select User"}),(0,t.jsxs)(n.Ph,{value:String(e),onValueChange:e=>a(Number(e)),children:[t.jsx(n.i4,{className:"bg-white border-gray-200",children:t.jsx(n.ki,{placeholder:"Select User"})}),t.jsx(n.Bw,{children:Z.map(e=>t.jsx(n.Ql,{value:String(e.id),children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Select Provider"}),(0,t.jsxs)(n.Ph,{value:String(r),onValueChange:e=>x(Number(e)),children:[t.jsx(n.i4,{className:"bg-white border-gray-200",children:t.jsx(n.ki,{placeholder:"Select Provider"})}),t.jsx(n.Bw,{children:Q.map(e=>t.jsx(n.Ql,{value:String(e.id),children:e.name},e.id))})]})]}),e&&(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Delivery Address"}),(0,t.jsxs)(n.Ph,{value:String(v),onValueChange:e=>y(Number(e)),children:[t.jsx(n.i4,{className:"bg-white border-gray-200",children:t.jsx(n.ki,{placeholder:"Select Address"})}),t.jsx(n.Bw,{children:I.map(e=>t.jsx(n.Ql,{value:String(e.id),children:e.full_address},e.id))})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Order Number"}),t.jsx(i.I,{value:h,onChange:e=>p(e.target.value),placeholder:"Enter order number",required:!0})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Booking Date"}),t.jsx(i.I,{type:"datetime-local",value:g,onChange:e=>b(e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Selection Type"}),(0,t.jsxs)(n.Ph,{value:P,onValueChange:e=>_(e),children:[t.jsx(n.i4,{className:"bg-white border-gray-200",children:t.jsx(n.ki,{placeholder:"Select Type"})}),(0,t.jsxs)(n.Bw,{children:[t.jsx(n.Ql,{value:"Category",children:"Category"}),t.jsx(n.Ql,{value:"Subcategory",children:"Subcategory"}),t.jsx(n.Ql,{value:"Ratecard",children:"Ratecard"}),t.jsx(n.Ql,{value:"Package",children:"Package"})]})]})]}),P&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-sm font-medium text-gray-700",children:["Select ",P]}),(0,t.jsxs)(n.Ph,{value:String(q),onValueChange:e=>C(Number(e)),children:[t.jsx(n.i4,{className:"bg-white border-gray-200",children:t.jsx(n.ki,{placeholder:`Select ${P}`})}),t.jsx(n.Bw,{children:E.map(e=>t.jsx(n.Ql,{value:String(e.id),children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Quantity"}),t.jsx(i.I,{type:"number",value:j,onChange:e=>f(Number(e.target.value)),placeholder:"Enter quantity"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Base Price"}),t.jsx(i.I,{type:"number",value:w,onChange:e=>S(Number(e.target.value)),placeholder:"Enter base price"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Total Amount"}),t.jsx(i.I,{type:"number",value:N,onChange:e=>k(Number(e.target.value)),placeholder:"Enter total amount"})]})]}),t.jsx(d.eW,{children:(0,t.jsxs)(l.z,{type:"submit",className:"w-full",disabled:$,children:[$?t.jsx(o.Z,{className:"w-4 h-4 animate-spin"}):t.jsx(c.Z,{className:"w-4 h-4"}),"Save Booking"]})})]})})})})}},85426:(e,a,r)=>{"use strict";r.d(a,{I:()=>n});var t=r(97247),s=r(28964),i=r(40677);let n=s.forwardRef(({className:e,type:a,...r},s)=>t.jsx("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));n.displayName="Input"},14530:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>t});let t=(0,r(45347).createProxy)(String.raw`C:\laragon\www\innovins\easyserve-new\next-shadcn-admin-dashboard\src\app\admin\booking\add\page.tsx#default`)}};var a=require("../../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[9379,4591,4564,4080,3145,1515,9847,1676],()=>r(11538));module.exports=t})();